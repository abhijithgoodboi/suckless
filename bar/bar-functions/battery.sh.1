#!/bin/bash

# Prints out battery percentage

CHARGING_ICON='󰂄'
WARNING_ICON='󰂃'
BATTERY_FULL_ICON='󰁹'
BATTERY_1_ICON='󰁺'
BATTERY_2_ICON='󰁻'
BATTERY_3_ICON='󰁼'
BATTERY_4_ICON='󰁽'
BATTERY_5_ICON='󰁾'
BATTERY_6_ICON='󰁿'
BATTERY_7_ICON='󰂀'
BATTERY_8_ICON='󰂁'
BATTERY_9_ICON='󰂂'


FULL_AT=98

BAT_ICON=""
ICON=""

get_battery()
{
	# The vast majority of people only use one battery.

	if [ -d /sys/class/power_supply/BAT1 ]; then
		capacity=$(cat /sys/class/power_supply/BAT1/capacity)
		charging=$(cat /sys/class/power_supply/BAT1/status)

    #Showing the percentage and charging

    if [[ "$charging" == "Charging"]]; then
      ICON="$CHARGING_ICON"
    elif [[ $capacity -le 9 ]]; then
      ICON="$WARNING_ICON"
    fi



		if [[ $capacity -ge $FULL_AT ]]; then
    BAT_ICON=$BATTERY_FULL_ICON
#    elif [[ $capacity -le 15 ]]; then
#      BAT_ICON="$BATTERY_1_ICON"
#    if [[ $capacity -le 15 ]]; then
#        BAT_ICON=$W
    elif [[ $capacity -le 19 ]]; then
        BAT_ICON=$BATTERY_1_ICON
    elif [[ $capacity -le 29 ]]; then
        BAT_ICON=$BATTERY_2_ICON
    elif [[ $capacity -le 39 ]]; then
        BAT_ICON=$BATTERY_3_ICON
    elif [[ $capacity -le 49 ]]; then
        BAT_ICON=$BATTERY_4_ICON
    elif [[ $capacity -le 59 ]]; then
        BAT_ICON=$BATTERY_5_ICON
    elif [[ $capacity -le 69 ]]; then
        BAT_ICON=$BATTERY_6_ICON
    elif [[ $capacity -le 79 ]]; then
        BAT_ICON=$BATTERY_7_ICON
    elif [[ $capacity -le 89 ]]; then
        BAT_ICON=$BATTERY_8_ICON
    elif [[ $capacity -le 95 ]]; then
        BAT_ICON=$BATTERY_9_ICON
    fi
fi
#	fi
	echo "$ICON$BAT_ICON $capacity% | "
}

get_battery
